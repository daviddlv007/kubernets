#!/bin/bash
# Script para login en GitHub Container Registry

# ‚ö†Ô∏è NUNCA subir este archivo a GitHub (est√° en .gitignore)
# El token debe estar en ~/.ghcr_token

GITHUB_USER="daviddlv007"

if [ ! -f ~/.ghcr_token ]; then
    echo "‚ùå Error: Archivo ~/.ghcr_token no encontrado"
    echo "üí° Ejecuta: echo 'TU_TOKEN' > ~/.ghcr_token"
    exit 1
fi

GITHUB_TOKEN=$(cat ~/.ghcr_token)

echo "üîê Haciendo login en ghcr.io..."
echo "$GITHUB_TOKEN" | docker login ghcr.io -u "$GITHUB_USER" --password-stdin

if [ $? -eq 0 ]; then
    echo "‚úÖ Login exitoso en GHCR"
else
    echo "‚ùå Error en login"
    exit 1
fi
